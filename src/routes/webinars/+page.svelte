<script>
  import { onMount } from 'svelte';
  import { fade } from 'svelte/transition';

  const benefits = [
    {
      title: "Identificar tu techo de cristal",
      description: "Descubre qu茅 est谩 limitando realmente tu crecimiento profesional y personal en este momento.",
    },
    {
      title: "Definir tu siguiente paso estrat茅gico",
      description: "Obt茅n claridad sobre la direcci贸n que debes tomar en tu carrera o negocio para maximizar resultados.",
    },
    {
      title: "Tomar decisiones con seguridad",
      description: "Gana la confianza para decidir sobre ascensos, cambios de trabajo o emprender tu propio negocio.",
    },
    {
      title: "Generar m谩s ingresos sin desgaste",
      description: "Descubre estrategias para aumentar tus ingresos sin sacrificar tu bienestar o tiempo personal.",
    }
  ];

  const testimonials = [
    {
      name: "Mar铆a Gonz谩lez",
      role: "Directora de Marketing",
      text: "La sesi贸n estrat茅gica me dio exactamente lo que necesitaba: claridad y un plan de acci贸n concreto. En 90 minutos resolv铆 lo que llevaba meses postergando.",
    },
    {
      name: "Carlos Rodr铆guez",
      role: "CEO & Fundador",
      text: "Incre铆ble c贸mo en tan poco tiempo pudimos identificar el verdadero obst谩culo que frenaba mi negocio. La inversi贸n m谩s valiosa que he hecho este a帽o.",
    },
    {
      name: "Ana Mart铆nez",
      role: "Ejecutiva Senior",
      text: "Llegu茅 con dudas sobre mi pr贸ximo paso profesional y sal铆 con un plan claro. Dos semanas despu茅s consegu铆 el ascenso que buscaba.",
    },
  ];

  const forYouPoints = [
    "Eres un director, ejecutivo o empresario que quiere salir del estancamiento y tomar decisiones con estrategia.",
    "Quieres una soluci贸n clara y aplicable, sin rodeos ni teor铆a innecesaria.",
    "Necesitas resolver un problema puntual y definir el siguiente paso con confianza.",
    "Est谩s listo para tomar acci贸n y dejar de postergar tu crecimiento.",
  ];

  const notForYouPoints = [
    "Solo buscas inspiraci贸n o motivaci贸n sin intenci贸n de ejecutar.",
    "Esperas que todo cambie sin hacer ajustes en tu mentalidad o estrategia.",
    "Quieres una soluci贸n m谩gica sin estar dispuesto a tomar acci贸n.",
  ];

  onMount(() => {
    // Script para modificar iframe despu茅s de cargar
    const script = document.createElement("script");
    script.innerHTML = `
      window.addEventListener('message', function(event) {
        if (event.data && event.data.type === 'funnelia-form-loaded') {
          const iframes = document.querySelectorAll('iframe[id^="inline-i5UoJ3r34ktXLZTmECfs"]');
          iframes.forEach(iframe => {
            try {
              const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
              const style = iframeDoc.createElement('style');
              style.textContent = \`
                input, textarea, select {
                  background-color: #000000 !important;
                  color: #ffffff !important;
                }
              \`;
              iframeDoc.head.appendChild(style);
            } catch (e) {
              console.error('Could not access iframe content:', e);
            }
          });
        }
      });
    `;
    document.body.appendChild(script);
  });
</script>

<main class="font-sans bg-secondary text-white min-h-screen">
  <!-- Hero Section -->
  <section class="relative min-h-screen flex items-center justify-center overflow-hidden py-20">
    <div class="absolute inset-0 bg-[url('https://hebbkx1anhila5yf.public.blob.vercel-storage.com/lesnoback-OWSuBlYLiyaDAcZnXB4oJU5Puc39be.png')] bg-cover bg-right-top opacity-10 bg-no-repeat" />
    <div class="container mx-auto px-4 relative z-10 text-center" in:fade>
      <h1 class="text-4xl md:text-6xl font-bold mb-4">
        SESIN ESTRATGICA <span class="text-primary">DE EXPANSIN</span>
      </h1>
      <h2 class="text-xl md:text-3xl font-semibold mb-6">
        90 MINUTOS PARA SALIR DEL ESTANCAMIENTO Y TOMAR ACCIN CON CLARIDAD
      </h2>
      <p class="text-lg md:text-xl mb-8 max-w-3xl mx-auto">
        Esta sesi贸n <strong>NO</strong> es teor铆a, <strong>NO</strong> es motivaci贸n pasajera, <strong>NO</strong> es m谩s informaci贸n sin aplicaci贸n.
      </p>
      <iframe
        src="https://link.funnelia.io/widget/form/i5UoJ3r34ktXLZTmECfs?theme=dark&inputBg=black"
        style="width: 100%; height: 432px; border: none; border-radius: 10px;"
        id="inline-i5UoJ3r34ktXLZTmECfs"
        title="Landing Sesi贸n Diagn贸stico"
      ></iframe>
    </div>
  </section>

  <!-- What You Can Solve -->
  <section class="py-20 bg-black/50">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl md:text-4xl font-bold text-center mb-16">
        驴QU PUEDES RESOLVER EN ESTA SESIN?
      </h2>
      <div class="grid md:grid-cols-2 gap-8">
        {#each benefits as benefit, index}
          <div class="bg-white/5 p-8 rounded-lg hover:bg-white/10 transition-all flex items-start gap-4" in:fade={{delay: index * 200}}>
            <span class="text-primary text-xl"></span>
            <div>
              <h3 class="text-xl font-bold mb-2 text-primary">{benefit.title}</h3>
              <p class="text-gray-300">{benefit.description}</p>
            </div>
          </div>
        {/each}
      </div>
      <div class="mt-12 text-center">
        <p class="text-xl max-w-3xl mx-auto">
          Despu茅s de esta sesi贸n, tendr谩s claridad sobre qu茅 hacer y un plan de acci贸n concreto para avanzar sin dudar.
        </p>
      </div>
    </div>
  </section>

  <!-- Contin煤a con los dem谩s bloques igual -->

  <!-- Funnelia Script -->
  <script src="https://link.funnelia.io/js/form_embed.js" />
</main>
